<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building Inventory Visualizations</title>
    <style>
        /* Add some basic styling to ensure containers have a width */
        #vis1, #vis2, #vis3 {
            width: 100%; /* Use 100% of the container width */
            height: 500px; /* Define a fixed height for the visualizations */
        }
        .button {
            display: inline-block;
            padding: 10px 20px;
            margin: 10px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-size: 16px;
        }
        .button:hover {
            background-color: #0056b3;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
    <h1>Building Inventory Visualizations</h1>
    <p>This page showcases visualizations of the state building inventory.</p>

    <a href="https://raw.githubusercontent.com/UIUC-iSchool-DataViz/is445_data/main/building_inventory.csv" class="button" target="_blank">The Data</a>
    <a href="workbook.ipynb" class="button" target="_blank">The Analysis</a>
    
    <h2>Visualization 1: Number of Buildings by Agency</h2>
    <div id="vis1"></div>
    <p>This bar chart provides a quantitative overview of the buildings managed by each state agency. By visualizing the 'Building Count' on the x-axis and the 'Agency Name' on the y-axis, it is immediately apparent which agencies are responsible for the most buildings. This view is particularly useful for state resource planning and public information.</p>
    <p>In designing this visualization, I opted for a horizontal bar chart to better display the agency names without clutter. The chart is sorted in descending order, so the agency with the most buildings is at the top, which makes it easier to read and understand at a glance. No specific color scheme was used, as the focus is on the count rather than categorization by agency.</p>

    <h2>Visualization 2: Buildings by Congressional and Senate Districts</h2>
    <div id="vis2"></div>
    <p>This interactive visualization uses a scatter plot to represent the distribution of buildings across Congressional and Senate Districts, with the additional capability to filter by the 'Year Acquired'. The x-axis shows the Congressional Districts and the y-axis the Senate Districts, while the color encodes the 'Agency Name'.</p>
    <p>A slider allows the viewer to filter the data by the year in which buildings were acquired, adding an interactive element that enables users to explore trends over time. The choice to color-code by agency helps to highlight which agencies have holdings in particular districts. The tooltip provides additional details on hover, giving further context to each data point.</p>

    <h2>Visualization 3: Square Footage of Buildings Over Years by Status</h2>
    <div id="vis3"></div>
    <p>In this scatter plot, we delve into the relationship between the square footage of buildings and the year they were constructed, distinguished by building status. The x-axis represents the 'Year Constructed', the y-axis shows the 'Square Footage', and the color differentiates the 'Bldg Status'. The plot ranges from the year 1700 to 2025 to encompass the entire history of the building inventory.</p>
    <p>An interactive dropdown menu allows viewers to select a building status, such as "In Use" or "Vacant", to filter the visualization. This interactivity adds a layer of exploration, enabling stakeholders to assess how building usage has evolved. A color scheme corresponding to different statuses assists in this analysis, with a legend facilitating understanding.</p>

    <script>
      // Embed Visualization 1
      fetch('chart1.json')
        .then(response => response.json())
        .then(spec => vegaEmbed('#vis1', spec, { "actions": false }));

      // Embed Visualization 2
      fetch('chart2.json')
        .then(response => response.json())
        .then(spec => vegaEmbed('#vis2', spec, { "actions": false }));

      // Embed Visualization 3
      fetch('chart3.json')
        .then(response => response.json())
        .then(spec => vegaEmbed('#vis3', spec, { "actions": false }));
    </script>
</body>
</html>
